{% extends "form.njk" %}

{% block fieldset %}
  {{ input({
    id: "me",
    name: "me",
    value: errors.me.value or publication.me,
    label: {
      text: "Web address"
    },
    hint: {
      text: "For example, https://example.org. To change this value, sign out and sign back in with the address you want to use."
    },
    type: "url",
    attributes: {
      readonly: true
    }
  }) | indent(2) }}

  {{ select({
    id: "host-id",
    name: "hostId",
    classes: "input--width-20",
    label: {
      text: "Content host"
    },
    hint: {
      text: "The place where your content is hosted"
    },
    items: [{
      value: "github",
      text: "GitHub",
      selected: publication.hostId == "github"
    }, {
      value: "gitlab",
      text: "GitLab",
      selected: publication.hostId == "gitlab"
    }],
    errorMessage: {
      text: errors.hostId.msg,
      label: "Error"
    } if errors.hostId
  }) | indent(2) }}

  {{ select({
    id: "default-config-type",
    name: "defaultConfigType",
    classes: "input--width-20",
    label: {
      text: "Default configuration"
    },
    hint: {
      text: "Default for file paths and template format. These values can be overiden with a custom config."
    },
    items: [{
      value: "hugo",
      text: "Hugo",
      selected: publication.defaultConfigType == "hugo",
      disabled: true
    }, {
      value: "jekyll",
      text: "Jekyll",
      selected: publication.defaultConfigType == "jekyll"
    }, {
      value: "kirby",
      text: "Kirby",
      selected: publication.defaultConfigType == "kirby",
      disabled: true
    }],
    errorMessage: {
      text: errors.defaultConfigType.msg,
      label: "Error"
    } if errors.defaultConfigType
  }) | indent(2) }}

  {{ input({
    id: "custom-config-url",
    name: "customConfigUrl",
    value: errors.customConfigUrl.value or publication.customConfigUrl,
    label: {
      text: "Custom configuration URL"
    },
    hint: {
      text: "<a href=\"/docs/" + application.locale + "/website-configuration\">Learn more about configuring your website</a>"
    },
    inputmode: "url",
    errorMessage: {
      text: errors.customConfigUrl.msg,
      label: "Error"
    } if errors.customConfigUrl
  }) | indent(2) }}

  {{ button({
    text: "Save changes" if referrer else "Save and continue"
  }) | indent(2) }}
{% endblock %}